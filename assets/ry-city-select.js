(()=>{"use strict";window.jQuery,jQuery(function(t){if("undefined"==typeof wc_country_select_params||"undefined"==typeof ry_wc_city_select_params)return!1;if(t().selectWoo){const e=function(){return{language:{errorLoading:function(){return wc_country_select_params.i18n_searching},inputTooLong:function(t){const e=t.input.length-t.maximum;return 1===e?wc_country_select_params.i18n_input_too_long_1:wc_country_select_params.i18n_input_too_long_n.replace("%qty%",e)},inputTooShort:function(t){const e=t.minimum-t.input.length;return 1===e?wc_country_select_params.i18n_input_too_short_1:wc_country_select_params.i18n_input_too_short_n.replace("%qty%",e)},loadingMore:function(){return wc_country_select_params.i18n_load_more},maximumSelected:function(t){return 1===t.maximum?wc_country_select_params.i18n_selection_too_long_1:wc_country_select_params.i18n_selection_too_long_n.replace("%qty%",t.maximum)},noResults:function(){return wc_country_select_params.i18n_no_matches},searching:function(){return wc_country_select_params.i18n_searching}}}},n=function(){t("select.city_select:visible").each(function(){const n=t.extend({placeholder:t(this).attr("data-placeholder")||t(this).attr("placeholder")||"",width:"100%"},e());t(this).on("select2:select",function(){t(this).trigger("focus")}).selectWoo(n)})};n(),t(document.body).on("city_to_select",function(){n()})}t(document.body).on("country_to_state_changing",function(e,n,c){const i=c.find("#billing_state, #shipping_state, #calc_shipping_state").val();t(document.body).trigger("state_changing",[n,i,c])}),t(document.body).on("change","select.state_select, #calc_shipping_state",function(){const e=t(this).closest(".form-row").parent(),n=e.find("#billing_country, #shipping_country, #calc_shipping_country").val(),c=t(this).val();t(document.body).trigger("state_changing",[n,c,e])}),t(document.body).on("state_changing",function(e,n,c,i){const o=i.find("#billing_city, #shipping_city, #calc_shipping_city");ry_wc_city_select_params.cities[n]&&c&&ry_wc_city_select_params.cities[n][c]?function(e,n){const c=e.val();if(e.is("input")){const n=e.attr("name"),c=e.attr("id"),i=e.attr("placeholder"),o=t("<select></select>");o.prop("id",c).prop("name",n).data("placeholder",i).addClass("city_select"),e.replaceWith(o),e=t("#"+c)}else e.prop("disabled",!1);e.empty();for(const c in n)if(n.hasOwnProperty(c)){const i=t("<option></option>");let o;n[c]instanceof Array?(o=n[c][0],i.attr("data-postcode",n[c][1])):o=n[c],i.prop("value",o).text(o),e.append(i)}let i=e.find('option[value="'+c+'"]');i.length?i.prop("selected",!0):e.find("option:first").prop("selected",!0),e.trigger("change"),t(document.body).trigger("city_to_select")}(o,ry_wc_city_select_params.cities[n][c]):function(e){if(e.is("input"))return void e.prop("disabled",!1);const n=e.attr("name"),c=e.attr("id"),i=e.attr("placeholder"),o=t('<input type="text">');o.prop("id",c).prop("name",n).prop("placeholder",i).addClass("input-text"),e.parent().find(".select2-container").remove(),e.replaceWith(o),t("#"+c).closest(".form-row").parent().find("#billing_postcode, #shipping_postcode, #calc_shipping_postcode").val("")}(o)}),t(document.body).on("change","select.city_select",function(){const e=t(this).closest(".form-row").parent(),n=e.find("#billing_city, #shipping_city, #calc_shipping_city").find(":selected").data("postcode");void 0!==n?e.find("#billing_postcode, #shipping_postcode, #calc_shipping_postcode").val(n):e.find("#billing_postcode, #shipping_postcode, #calc_shipping_postcode").val("")}),t(".cart-collaterals").length&&t("#calc_shipping_state").length&&new MutationObserver(function(){t("#calc_shipping_state").trigger("change")}).observe(document.querySelector(".cart-collaterals"),{childList:!0})})})();